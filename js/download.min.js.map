{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","showDownloadChooser","adjMonth","args","button","d","dateString","day","i","len","month","ref","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","$","length","p$","disabled","undefined","getMonth","getDate","getUTCFullYear","get","searchParams","apiPath","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","console","info","addEventListener","avgTotalTimeEstimate","delayCheckSqlButton","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","fractionalProgress","html","message","sqlButton","timeElapsed","totalTimeEstimate","warn","isNull","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error","sqlDumpLocation","delay","replaceWith","on","this","remove","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","uri","urlString","download_path","importedCSS","htmlBody","htmlHeader","dialogHtml","pdfError","encodeURIComponent","post","pdfDownload","pdfDownloadPath","file","after","always","click"],"mappings":"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","file":"download.min.js","sourcesContent":[null]}