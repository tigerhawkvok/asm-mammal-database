{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","showDownloadChooser","useLastSearch","adjMonth","args","button","d","dateString","day","i","len","month","ref","searchString","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","searchParams","lastSearch","isNull","error","$","length","p$","disabled","undefined","getMonth","getDate","getUTCFullYear","get","apiPath","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","console","info","addEventListener","avgTotalTimeEstimate","delayCheckSqlButton","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","fractionalProgress","html","message","sqlButton","timeElapsed","totalTimeEstimate","warn","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error1","sqlDumpLocation","delay","replaceWith","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","uri","urlString","download_path","importedCSS","htmlBody","htmlHeader","dialogHtml","pdfError","encodeURIComponent","on","this","remove","post","pdfDownload","pdfDownloadPath","file","after","always","click","_this"],"mappings":"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","file":"download.min.js","sourcesContent":[null]}