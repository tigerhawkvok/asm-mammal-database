{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","showDownloadChooser","adjMonth","args","button","d","dateString","day","i","len","month","ref","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","$","length","p$","disabled","undefined","getMonth","getDate","getUTCFullYear","get","searchParams","apiPath","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","console","info","addEventListener","avgTotalTimeEstimate","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","fractionalProgress","html","message","timeElapsed","totalTimeEstimate","warn","isNull","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error","replaceWith","on","delay","this","remove","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","uri","urlString","importedCSS","htmlBody","htmlHeader","dialogHtml","pdfError","encodeURIComponent","post","pdfDownload","pdfDownloadPath","file","after","always","click"],"mappings":"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","file":"download.min.js","sourcesContent":[null]}