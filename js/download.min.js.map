{"version":3,"sources":["../../coffee/download.coffee"],"names":["downloadCSVList","downloadHTMLList","showDownloadChooser","adjMonth","args","button","d","dateString","day","i","len","month","ref","startTime","animateLoad","Date","now","_asm","progressTracking","estimate","$","length","p$","disabled","undefined","getMonth","getDate","getUTCFullYear","get","searchParams","apiPath","done","result","e","postMessageContent","worker","status","Error","startLoad","toastStatusMessage","action","data","Worker","console","info","addEventListener","avgTotalTimeEstimate","delayCheckSqlButton","downloadable","duration","estimatedTimeRemaining","fileSizeMiB","fractionalProgress","html","message","sqlButton","timeElapsed","totalTimeEstimate","warn","isNull","updateUser","stopLoadError","isNumber","progress","exists","append","value","toFloat","push","mean","text","toInt","log","csv","error","sqlDumpLocation","delay","replaceWith","close","debug","downloadDataUriAsBlob","safariDialogHelper","stopLoad","postMessage","stack","fail","uri","urlString","download_path","importedCSS","htmlBody","htmlHeader","dialogHtml","pdfError","encodeURIComponent","on","this","remove","post","pdfDownload","pdfDownloadPath","file","after","always","click","_this"],"mappings":"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","file":"download.min.js","sourcesContent":[null]}